<%= link_to "Home", root_path %>
<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh;">
  <div style="margin-bottom: 20px;">
    <%= image_tag "snoop-market-logo.png", alt: "Logo", width: 100, style: "vertical-align: middle;" %>
</div>

<div style="text-align: left; max-width: 400px;">
<h2>Forgot your password?</h2>

<%= simple_form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post }) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :email,
                required: true,
                autofocus: true,
                input_html: { autocomplete: "email" } %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Send me reset password instructions" %>
  </div>
<% end %>

<%= render "devise/shared/links" %>
def index
    @items = Item.all
    if params[:query].present?
      sql_subquery = <<~SQL
        items.name @@ :query
        OR items.description @@ :query
        OR categories.name @@ :query
      SQL
      @items = @items.joins(:category).where(sql_subquery, query: "%#{params[:query]}%")
    end
  end
